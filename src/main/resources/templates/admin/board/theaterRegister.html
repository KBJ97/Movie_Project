<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.thymeleaf.org/"
      layout:decorate="/admin/board/layout.html">
<head>
    <style>
        * {
            margin: 0;
            padding: 0;
            font: normal 14px "Noto Sans CJK KR";
        }

        #register {
            width: 100%;
            height: auto;
            background-color: #e2e2e2;
            padding: 10px;
        }

        #register #register_detail {
            width: 100%;
            height: 100%;
            background-color: rgb(255, 255, 255);
            padding: 10px;
        }

        #register > div {
            font-size: 20px;
        }

        #register_detail td {
            padding: 10px 0;
        }

        #register_detail td {
            padding: 10px 0;
        }

        #register_detail td {
            padding: 10px 0;
        }

        #register hr:first-child {
            opacity: 1;
            border: 1.8px solid black;
        }

        #register_detail input {
            width: 100%;
            height: 35px;
        }

        #register_detail input[name="openMovie"] {
            width: 50%;
            padding: 5px;
        }

        #register_detail input[name="closeDate"] {
            width: 50%;
            padding: 5px;
        }

        #register_detail #time {
            height: 35px;
            width: 50%; /* 너비 조절 */
        }

        #register_detail #cinema {
            height: 35px;
            width: 50%; /* 너비 조절 */
        }

        #register_detail #region1 {
            height: 35px;
            width: 50%; /* 너비 조절 */
        }

        #register_detail #region2 {
            height: 35px;
            width: 50%; /* 너비 조절 */
        }

        textarea {
            resize: none;
        }

        #register_detail td {
            padding: 10px;
        }

        #register button {
            width: 150px; /* 버튼의 넓이 */
            height: 40px; /* 버튼의 높이 */
            font-size: 16px; /* 폰트 크기 */
            background-color: black; /* 버튼의 배경색 (검정색) */
            color: white; /* 폰트 색상 (흰색) */
            border: none; /* 테두리 없음 */
            border-radius: 5px; /* 둥근 모서리 */
        }

        /* 버튼에 호버(마우스를 올렸을 때) 효과 추가 */
        #register button:hover {
            background-color: darkgray; /* 호버시 배경색 변경 */
            color: black; /* 호버시 폰트 색상 변경 */
            cursor: pointer; /* 포인터 커서로 변경 */
        }



        #register .movieNum {
            width: 300px;
            height: 40px;
        }

        .wrapper {
            width: 1200px;
            display: flex;
            gap: 20px; /* Room 간격 */
            flex-wrap: wrap; /* 사각형이 한 줄에 차면 다음 줄로 넘어가도록 설정 */
            flex-direction: row; /* 가로 방향으로 정렬 */
        }

        .rectangle {
            display: flex; /* 추가 */
            justify-content: space-between; /* 추가 */
            align-items: center; /* 추가 */
            width: 180px;
            height: 25px;
            border: 2px solid black;
            background-color: white;
            box-sizing: border-box;
            margin-bottom: -2px;
            position: relative;

        }

        .rectangle:first-child {
            position: relative;
        }

        #register .rectangle:first-child .icon {
            position: absolute;
            top: 50%;
            right: 10px;
            transform: translateY(-50%);
        }

        #register .rectangle:nth-child(2) {
            width: 180px;
            height: 80px;
            border: 2px solid black;
            background-color: white;
            box-sizing: border-box;
            margin-bottom: -2px;
        }

    </style>

    <script>
        let roomCount = 1; // 극장 번호를 나타내는 변수

        function addRectangle() {
            const wrapper = document.querySelector('.wrapper');
            const room = document.querySelector('.room'); // .room 요소를 가져옵니다.
            const newRoom = room.cloneNode(true); // .room을 복제합니다.

            roomCount++; // 극장 번호를 증가시킵니다.
            const rectangles = newRoom.querySelectorAll('.rectangle'); // 모든 .rectangle 요소를 찾습니다.
            rectangles[0].innerText = roomCount + '관'; // 첫 번째 .rectangle에 번호를 추가합니다.
            rectangles[0].insertAdjacentHTML('beforeend', '<i class="fas fa-pencil-alt"></i>'); // 첫 번째 .rectangle에 아이콘을 추가합니다.

            wrapper.appendChild(newRoom); // 복제한 .room을 wrapper에 추가합니다.
        }
    </script>


</head>

        <div id="register" layout:fragment="content">
            <div id="register_detail">
                극장 등록
                <hr/>

                <section>
                    <form th:action="@{/admin/timeRegister}" method="post">
                        <table>
                            <tr>
                                <td>영화관 이름</td>
                                <td>
                                    <input type="text" name="thName"/>
                                </td>
                            </tr>

                            <tr>
                                <td>지역</td>
                                <td>
                                    <select id="region1" name="region1">
                                        <option value='0'>-- 선택 --</option>
                                        <option th:each="region1 : ${region1List}" th:value="${region1.region1Num}" th:text="${region1.region1Name}"></option>
                                        <!-- 원하는 장르 옵션들을 추가하세요 -->
                                    </select>
                                </td>
                            </tr>

                            <tr>
                                <td>상세 지역</td>
                                <td>
                                    <select id="region2" name="region2">
                                        <option value='0'>-- 선택 --</option>
                                        <option th:each="region1 : ${region1List}" th:value="${region1.region1Num}" th:text="${region1.region1Name}"></option>
                                        <!-- 원하는 장르 옵션들을 추가하세요 -->
                                    </select>
                                </td>
                            </tr>

                           <tr>
                               <td>상영관</td>
                               <td>
                                   <div class="wrapper">
                                       <div class="room">
                                           <div class="rectangle">1관
                                               <i class="fas fa-pencil-alt icon"></i>
                                           </div>
                                           <div class="rectangle"></div>
                                       </div>
                                   </div>
                               </td>
                           </tr>
                            <tr>
                                <td></td>
                                <td>
                                    <button class="add-button" onclick="addRectangle()">극장 추가하기</button>
                                </td>
                            </tr>
                            <!-- 등록과 취소 버튼 -->
                            <tr>
                                <td></td>
                                <td>
                                    <button type="submit">등록</button>
                                    <button type="button">취소</button>
                                </td>
                            </tr>
                        </table>
                    </form>
                </section>
            </div>
        </div>

</html>
